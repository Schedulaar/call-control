%%
%% Author: markl
%% 2/26/2018
%%

% Preamble
\documentclass[11pt]{article}

% Packages
\usepackage{a4wide}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[german]{babel}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage[open]{bookmark}
\usepackage{amsmath}
\usepackage{colonequals}
\usepackage{xcolor}

\hypersetup{
colorlinks,
citecolor=black,
filecolor=black,
linkcolor=black,
urlcolor=black
}

\title{\bfseries Call-Control in Ringnetzwerken}
\author{Michael Markl}
\date{Seminar\\ \glqq Algorithmen und Datenstrukturen\grqq\\~ \\Sommersemester 2018\\~\\ Universität Augsburg}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\theoremstyle{theorem}
\newtheorem{lemma}{Lemma}[section]
\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}[section]
\newcommand{\coloniff}{\vcentcolon\Longleftrightarrow}
\newcommand\todo[1]{\textcolor{red}{#1}}
\newcommand{\set}{\mathbb}
\newcommand{\find}{\text{\em find}}
\newcommand{\Mod}{~\mathrm{mod}~}



% Document
\begin{document}
    \pagenumbering{gobble}
    \maketitle
    \clearpage

    \pagenumbering{Roman}
    \tableofcontents

    \clearpage

    \setcounter{page}{1}
    \setcounter{section}{0}
    \pagenumbering{arabic}

    \section{Einführung}\label{sec:einführung}

    \begin{definition}[Call-Control-Problem]
        Sei $(V,E)$ ein ungerichteter Graph, dessen Kanten die Kapazitäten $c: E \to \mathbb{N}$ besitzen, und $P$ eine
        (Multi-)Menge von $m \in \mathbb{N}$ Pfaden in $(V,E)$.
        Eine Menge $Q \subseteq P$ heißt {\em geeignet}, falls für jede Kante $e \in E$ die Anzahl aller Pfade in $Q$,
        die $e$ enthalten, höchstens $c(e)$ ist.
        Die Pfade einer geeigneten Menge heißen $akzeptiert$.
        Das {\em Call-Control-Problem} besteht darin, die Anzahl der akzeptierten Pfade zu maximieren.
    \end{definition}

    Im Speziellen betrachten wir das Call-Control-Problem in Ringen und Ketten.
    Eine {\em Kette} ist ein ungerichteter Graph $(V,E)$, der nur aus den Kanten und Knoten eines Weges besteht.
    Ein {\em Ring} ist dabei ein ungerichteter Graph, der nur aus den Kanten und Knoten eines Zyklus' besteht.
    Betrachten wir einen Ring $(V,E)$ mit $V=\{0, \dots , n-1\}$ aufgezeichnet auf einer Ebene, bei dem die Knoten nach
    dem Uhrzeigersinn nummeriert werden, können wir jeden Pfad im Ring durch einen Anfangs- und Zielknoten identifizieren,
    wobei der Pfad vom Anfangsknoten aus im Uhrzeigersinn bis zum Zielknoten \glqq verläuft\grqq.
    Für einen Pfad $p$ in einem solchen Ring oder einer Kette, nennen wir $s_p$ den
    Anfangsknoten und $t_p$ den Zielknoten des Pfades und schreiben $p=(s_p, t_p)$.


    \subsection{Motivation und Anwendungen}\label{subsec:motivationUndAnwendungen}
    Diese Problemstellung findet seine Anwendung darin, in einem (Kommunikations-)Netzwerk mit festen Bandbreiten jeder
    Kante und einer gegebenen Menge an Anfragen möglichst viele dieser Anfragen zuzulassen, wobei jede Anfrage auf allen
    Kanten ihres Pfades genau eine Bandbreiteneinheit aufbraucht und keine Kante ihre Bandbreite überschreiten kann.

    Oft trifft man zwar auf die online-Variante des Problems, das heißt, dass jede Anfrage schon bei Eintreffen und
    ohne Wissen über künftige Anfragen akzeptiert oder abgelehnt werden muss.
    Jedoch sind die Erkenntnisse über das offline-Problem auch hier relevant, um eine entsprechende Lösung für das
    online-Problem entwerfen zu können.
    Außerdem kann die optimale Lösung des offline-Problems als Vergleichspunkt bei der Bewertung von Lösungen des
    online-Problems genutzt werden.

    Eine Anwendung bietet das Problem der zyklischen Ablaufplanung:

    \todo{Kette ist schon durchnummeriert definiert}

	\section{Optimale Lösung des Call-Control-Problems in Ketten}\label{sec:call-control-in-chains}
	\input{call-control-in-chains}

    \section{Lösung in Ringen}\label{sec:call-control-in-rings}
    Nachdem wir das Call-Control-Problem in Ketten optimal lösen können, betrachten wir nun das Problem in Ringen.
    Sei also $(V, E)$ ein Ring mit $V=\{0,\dots,n-1 \}\}$ und $E=\{e_0, \dots, e_{n-1}\}$, wobei $e_i$ die
    Knoten $i$ und $(i+1 \Mod n)$ verbindet.
    Außerdem haben wir eine Menge $P=\{p_1, \dots, p_m\}$ an Pfaden gegeben, unter denen jeder Pfad $p$ einen
    Anfangsknoten $s_p$ mit einem Zielknoten $t_p$ verbindet mit $s_p \neq t_p$.
    Dabei enthält der Pfad alle Kanten, auf die man trifft, wenn man sich vom Anfangsknoten im Uhrzeigersinn - das heißt
    bis auf $\mathrm{mod}~n$ mit aufsteigenden Knotennamen - zum Zielknoten bewegt.
    Alle Knoten eines Pfades bis auf den Anfangs- und Zielknoten heißen {\em innere Knoten}.
    Außerdem können wir ohne Einschränkung von $n \leq 2m$ ausgehen, da wir solche Knoten entfernen können, die nicht
    Anfangs- oder Zielknoten eines Pfades sind.
    Dabei ersetzen wir die zwei Kanten, die am zu entfernenden Knoten anliegen, durch eine einzige Kante, dessen
    Kapazität das Minimum der vorherigen beiden ist.
    \todo{FIGURE} zeigt ein Beispiel eines Rings (innen) mit den gegebenen Pfaden (außen).

    \todo{check if feasible set is defined}

    Das Call-Control-Problem beschreibt hier wieder das Problem, eine möglichst große geeignete Teilmenge
    $Q \subseteq P$ zu finden.
    Dazu teilen wir die Menge der Pfade $P$ in zwei disjunkte Teilmengen $P_1$ und $P_2$.
    Dabei bildet $P_1$ die Menge der Pfade in $P$, die den Knoten $0$ nicht als inneren Knoten haben, $P_2$
    beinhaltet die restlichen Pfade, also $P \setminus P_1$.
    Diese Partition können wir ganz einfach berechnen:
    Sagen wir, dass jeder Pfad, dessen Zielknoten $0$ ist, eigentlich den Zielknoten $n$ hat, so können wir durch alle
    Pfade $p$ iterieren und falls $s_p < t_p$ gilt, so ist $0$ kein innerer Knoten von $p$ und wird daher $P_1$
    zugeordnet, sonst $P_2$.

    Nun transformieren wir den Ring in eine Kette mit $2n$ Knoten:
    Wir fertigen zwei Kopien der Kanten $e_1,\dotsc,e_n$ aus unserem Ring an und bilden eine Kette, indem wir die
    beiden Kopien aneinanderhängen.
    Die dazu gehörigen Knotennamen sind dabei $0, \dotsc, 2n-1$, wobei wir die Knoten $n, \dotsc, 2n-1$ durch
    $0', \dotsc, (n-1)'$ als die zweite Kopie der Knoten kennzeichnen.
    Die Pfade werden diesem Schema angepasst, sodass Pfade in $P_1$ nur Kanten der ersten Kopie belegen, wohingegen
    jeder Pfad $p \in P_2$ aus zwei Teilpfaden besteht: Dem {\em Kopf}, der von $s_p$ bis nach $0'$ auf der ersten
    Kopie der Kanten liegt, und dem {\em Schwanz}, der von $0'$ bis $t_p '$ auf der zweiten Kopie liegt.
    In \todo{FIGURE} kann man den vorherigen Ring umgewandelt in die Kettenstruktur sehen.

    Wir definieren im Weiteren für eine Menge $Q$ von Pfaden die Belastung $L_1(Q, e_i)$ bzw. $L_2(Q, e_i)$ der Kante
    $e_i$ in der ersten bzw. zweiten Kopie als die Anzahl der Pfade von $Q$, die die erste bzw. zweite Kopie der Kante
    $e_i$ beinhalten.
    \begin{definition}[Profil]
        Sei $Q$ eine Menge von Pfaden. Die monoton fallende Folge
        \[\pi_{Q}\colonequals  (L_2(Q, e_0), \dots, L_2(Q, e_{n-1}))\]
        der Belastungen der $n$ Kanten in den zweiten Kopien heißt Profil.
        Außerdem bezeichne $\pi_Q(e_i) \colonequals L_2(Q, e_i)$ und wir schreiben für zwei Profile $\pi$ und $\pi'$,
        dass $\pi \leq \pi'$, falls $\pi(e_i) \leq \pi'(e_i)$ für alle Kanten $e$.
    \end{definition}

    Wir bezeichnen eine Menge $Q$ von Pfaden im Ring als {\em kettengeeignet},
    falls es in der oben konstruierten Kette keine Kapazität überschreitet, d. h. falls $L_1(Q, e) \leq c(e)$ und
    $L_2(Q, e_i) \leq c(e)$ für alle Kanten $e$.
    Gilt darüber hinaus $L_1(Q, e) + \pi(e) \leq c(e)$ für alle Kanten $e$, so heißt $Q$ {\em kettengeeignet zum Startprofil $\pi$}.
    Anschaulich betrachtet, werden hier von den Kanten der ersten Kopie einige Kapazitäten bereits vom Startprofil belegt.
    Betrachtet man nun nochmals die Konstruktion der Kette kann man leicht erkennen, dass eine Menge $Q$ von Pfaden geeignet im
    Ring ist genau dann, wenn $Q$ kettengeeignet zum eigens generierten Startprofil $\pi_Q$ ist, welches ja gerade den
    \todo{überstehenden} Pfaden entspricht.






    \section{Gewichtetes Call-Control-Problem}\label{sec:weiteres}
    - WeightedCallProblem: CallProblem mit Gewichten 1


\end{document}
